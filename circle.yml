general:
  branches:
    ignore:
      - gh-pages

machine:
  java:
    version: oraclejdk8

dependencies:
  override:
    - mvn -s settings.xml dependency:resolve

test:
  override:
    - mvn -s settings.xml integration-test site

deployment:
  develop:
    branch: develop
    commands:
      - mvn -s settings.xml deploy
  production:
    branch: master
    commands:
      - mvn -s settings.xml -P production site